# Logfile created on Thu Mar 05 08:46:09 +0100 2009 by /
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.6ms)[0m   [0mCREATE TABLE "nodes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "type" varchar(255), "lft" integer, "rgt" integer, "foo_id" integer, "parent_id" integer) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM "schema_migrations"[0m
  [4;35;1mSQL (1.8ms)[0m   [0mINSERT INTO "schema_migrations" (version) VALUES ('1')[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Delete all (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: DELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: DELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (rgt = 1) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (rgt = 3) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft = 8) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft = 4) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id IS NULL) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id = 601991062) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: near "?": syntax error: UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id.nil? ? "foo_id IS NULL" : "foo_id = #{foo_id}") AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": DELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Delete all (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": DELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (rgt = 1) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (rgt = 3) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft = 8) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft = 4) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id IS NULL) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id = 601991062) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": SELECT * FROM "nodes" WHERE (parent_id = 291909616) AND (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0114151c@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:20>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.3ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', NULL, 1, 'FooNode', NULL, 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.2ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.4ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.7ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.2ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (1.0ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.2ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (2.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;35;1mFooNode Count (0.4ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.2ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.4ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (foo_id) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (1.0ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (3.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.4ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.4ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.7ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.0ms)[0m   [0mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.0ms)[0m   [0;1mSQLite3::SQLException: unrecognized token: "#": UPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE (#<Proc:0x0113fb40@/Users/sven/Development/projects/adva_cms/adva_cms/vendor/adva/plugins/simple_nested_set/lib/simple_nested_set.rb:18>) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.7ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.6ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.6ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.6ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.9ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.4ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.6ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.6ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (2.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.4ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.4ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.5ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.5ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.7ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Count (0.5ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mFooNode Count (0.3ms)[0m   [0;1m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such column: nodes.type: SELECT count(*) AS count_all FROM nodes AS t1, nodes AS t2 WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991063 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991062 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991061 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991063 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991062 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991061 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991063 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991062 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM nodes, nodes AS t2 WHERE (nodes.id = 601991061 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: misuse of aggregate function COUNT(): SELECT count(COUNT(t2.id) - 1) AS count_count_t2_id_1 FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991063 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991062 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991061 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 291909616 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991063 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991062 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.id = 601991061 AND nodes.lft BETWEEN t2.lft AND t2.rgt) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND t2.foo_id = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND t2.foo_id = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND t2.foo_id = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND t2.foo_id = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991063
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991062
 [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Count (0.3ms)[0m   [0m
 SELECT COUNT(t2.id) - 1 AS level
 FROM nodes AS t1, nodes AS t2
 WHERE t1.lft BETWEEN t2.lft AND t2.rgt AND t1.id = 601991061
 [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id == t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id == t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id == t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id == t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.4ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.2ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.1ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.2ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 2) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.0/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:861:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:876:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:873:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.0/lib/active_record/fixtures.rb:856:in `fixtures'
./vendor/adva/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Create (0.3ms)[0m   [0;1mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.7ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;36;1mFooNode Load (0.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE (rgt = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 291909616 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991063 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991062 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(t2.id) AS count_t2_id FROM nodes, nodes AS t2 WHERE (nodes.lft BETWEEN t2.lft AND t2.rgt AND nodes.id = 601991061 AND nodes.foo_id = t2.foo_id) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 3 WHEN lft BETWEEN 2 AND 6 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.0ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.3ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (parent_id = 601991062) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (1.2ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (parent_id = 291909616) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 WHEN lft BETWEEN 2 AND 7 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 WHEN rgt BETWEEN 2 AND 7 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (rgt = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 1 WHEN lft BETWEEN 2 AND 4 THEN lft + -2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 1 WHEN rgt BETWEEN 2 AND 4 THEN rgt + -2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.6ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + -3 WHEN lft BETWEEN 2 AND 6 THEN lft + 2 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + -3 WHEN rgt BETWEEN 2 AND 6 THEN rgt + 2 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (lft = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Unable to load node, underlying cause no such file to load -- node.rb 

 /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:380:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:521:in `new_constants_in'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:379:in `load_file'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:259:in `require_or_load'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:224:in `depend_on'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/dependencies.rb:136:in `require_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/fixtures.rb:850:in `try_to_load_dependency'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/fixtures.rb:865:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/fixtures.rb:862:in `each'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/fixtures.rb:862:in `require_fixture_classes'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/fixtures.rb:845:in `fixtures'
./vendor/adva/engines/adva_cms/vendor/plugins/simple_nested_set/test/simple_nested_set_test.rb:4
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
/usr/local/lib/ruby/gems/1.8/gems/redgreen-1.2.2/bin/rg:6
/usr/local/bin/rg:19:in `load'
/usr/local/bin/rg:19
  [4;35;1mFooNode Load (1.3ms)[0m   [0mSELECT * FROM "nodes" WHERE ((lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("nodes".rgt) AS max_rgt FROM "nodes" WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Create (0.3ms)[0m   [0mINSERT INTO "nodes" ("name", "foo_id", "lft", "type", "parent_id", "rgt") VALUES('new', 1, 9, 'FooNode', NULL, 10)[0m
  [4;36;1mFooNode Delete all (0.3ms)[0m   [0;1mDELETE FROM "nodes" WHERE (lft > 2 AND rgt < 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET lft = (lft - 2) WHERE (lft >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.2ms)[0m   [0;1mUPDATE "nodes" SET rgt = (rgt - 2 ) WHERE (rgt >= 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Destroy (0.1ms)[0m   [0mDELETE FROM "nodes" WHERE "id" = 601991063[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Delete all (0.3ms)[0m   [0mDELETE FROM "nodes" WHERE (lft > 4 AND rgt < 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Update (0.1ms)[0m   [0;1mUPDATE "nodes" SET lft = (lft - 4) WHERE (lft >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Update (0.2ms)[0m   [0mUPDATE "nodes" SET rgt = (rgt - 4 ) WHERE (rgt >= 7) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Destroy (0.1ms)[0m   [0;1mDELETE FROM "nodes" WHERE "id" = 601991062[0m
  [4;35;1mFooNode Load (0.1ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.4ms)[0m   [0mSELECT * FROM "nodes" WHERE ((lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 1) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 3) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "nodes" WHERE ((lft < 2 AND rgt > 3) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "nodes" WHERE ((lft < 4 AND rgt > 7) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "nodes" WHERE ((lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + 7 - 6 WHEN lft BETWEEN 7 AND 7 THEN lft + 5 - 7 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + 7 - 6 WHEN rgt BETWEEN 7 AND 7 THEN rgt + 5 - 7 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 5 AND 6 THEN lft + 7 - 6 WHEN lft BETWEEN 7 AND 7 THEN lft + 5 - 7 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 5 AND 6 THEN rgt + 7 - 6 WHEN rgt BETWEEN 7 AND 7 THEN rgt + 5 - 7 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 4 THEN lft + 6 - 4 WHEN lft BETWEEN 5 AND 6 THEN lft + 2 - 5 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 4 THEN rgt + 6 - 4 WHEN rgt BETWEEN 5 AND 6 THEN rgt + 2 - 5 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."lft" = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 4 - 3 WHEN lft BETWEEN 4 AND 4 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 4 - 3 WHEN rgt BETWEEN 4 AND 4 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 6 - 3 WHEN lft BETWEEN 4 AND 6 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 6 - 3 WHEN rgt BETWEEN 4 AND 6 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.3ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 7 - 3 WHEN lft BETWEEN 4 AND 7 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 7 - 3 WHEN rgt BETWEEN 4 AND 7 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."lft" = 8) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."lft" = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ((lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (1.1ms)[0m   [0mSELECT * FROM "nodes" WHERE ((lft < 5 AND rgt > 6) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.0ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (1.3ms)[0m   [0mSELECT * FROM "nodes" WHERE ((lft > 1 AND rgt < 8) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (1.1ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (((nodes.id <> 601991063) AND ("nodes"."parent_id" = 291909616)) AND ("nodes"."foo_id" = 1)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."parent_id" IS NULL) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" IS NULL)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 21196841) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.9ms)[0m   [0mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 4 THEN lft + 6 - 4 WHEN lft BETWEEN 5 AND 6 THEN lft + 2 - 5 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 4 THEN rgt + 6 - 4 WHEN rgt BETWEEN 5 AND 6 THEN rgt + 2 - 5 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.9ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."lft" = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft DESC LIMIT 1[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE (("nodes"."foo_id" = 1 AND "nodes"."parent_id" = 291909616)) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft DESC LIMIT 1[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Update (0.3ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 7 - 3 WHEN lft BETWEEN 4 AND 7 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 7 - 3 WHEN rgt BETWEEN 4 AND 7 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.8ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 291909616) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 7 - 3 WHEN lft BETWEEN 4 AND 7 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 7 - 3 WHEN rgt BETWEEN 4 AND 7 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.4ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."rgt" = 5) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Update (0.4ms)[0m   [0;1mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 3 THEN lft + 6 - 3 WHEN lft BETWEEN 4 AND 6 THEN lft + 2 - 4 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 3 THEN rgt + 6 - 3 WHEN rgt BETWEEN 4 AND 6 THEN rgt + 2 - 4 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991063 THEN 601991062 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;35;1mFooNode Load (0.4ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.3ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.5ms)[0m   [0mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991062) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.5ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Update (0.4ms)[0m   [0mUPDATE "nodes" SET lft = CASE WHEN lft BETWEEN 2 AND 4 THEN lft + 6 - 4 WHEN lft BETWEEN 5 AND 6 THEN lft + 2 - 5 ELSE lft END, 
 rgt = CASE WHEN rgt BETWEEN 2 AND 4 THEN rgt + 6 - 4 WHEN rgt BETWEEN 5 AND 6 THEN rgt + 2 - 5 ELSE rgt END, 
 parent_id = CASE WHEN id = 601991061 THEN 291909616 ELSE parent_id END WHERE ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) [0m
  [4;36;1mFooNode Load (0.6ms)[0m   [0;1mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991063) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;35;1mFooNode Load (0.3ms)[0m   [0mSELECT lft, rgt, parent_id FROM "nodes" WHERE ("nodes"."id" = 601991061) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft[0m
  [4;36;1mFooNode Load (0.8ms)[0m   [0;1mSELECT * FROM "nodes" WHERE ("nodes"."lft" = 4) AND ("nodes"."foo_id" = 1) AND ( ("nodes"."type" = 'FooNode' ) ) ORDER BY lft LIMIT 1[0m
